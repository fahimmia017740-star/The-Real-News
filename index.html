<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Real News - বাংলার সব খবর</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bangla:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #1565c0;
            --secondary-color: #00897b;
            --accent-color: #e53935;
            --text-color: #263238;
            --light-text: #546e7a;
            --background-color: #f5f5f5;
            --secondary-bg: #ffffff;
            --border-color: #e0e0e0;
            --dark-bg: #263238;
            --dark-secondary: #37474f;
            --dark-text: #eceff1;
            --dark-border: #455a64;
            --gradient-primary: linear-gradient(135deg, #1565c0, #0d47a1);
            --gradient-secondary: linear-gradient(135deg, #00897b, #00695c);
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.12);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.16);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans Bangla', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: var(--transition);
            overflow-x: hidden;
        }
        
        body.dark-mode {
            --background-color: var(--dark-bg);
            --secondary-bg: var(--dark-secondary);
            --text-color: var(--dark-text);
            --light-text: #b0bec5;
            --border-color: var(--dark-border);
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--secondary-bg);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }
        
        /* Header Styles */
        header {
            background: var(--gradient-primary);
            color: white;
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }
        
        .header-top {
            background: rgba(0, 0, 0, 0.1);
            padding: 8px 0;
            font-size: 14px;
        }
        
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .header-top-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .current-date {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .header-top-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .social-links {
            display: flex;
            gap: 10px;
        }
        
        .social-links a {
            color: white;
            font-size: 16px;
            transition: var(--transition);
        }
        
        .social-links a:hover {
            transform: translateY(-2px);
        }
        
        .header-main {
            padding: 15px 0;
        }
        
        .logo {
            font-size: 28px;
            font-weight: 800;
            text-decoration: none;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .logo i {
            font-size: 32px;
        }
        
        nav {
            margin-left: auto;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 5px;
        }
        
        nav ul li {
            position: relative;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 10px 15px;
            border-radius: 4px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        nav ul li a:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        nav ul li a.active {
            background: rgba(255, 255, 255, 0.2);
            font-weight: 600;
        }
        
        nav ul li a i {
            font-size: 14px;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .search-box {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .search-box input {
            padding: 10px 15px 10px 40px;
            border: none;
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            width: 220px;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        
        .search-box input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .search-box input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.3);
            width: 280px;
        }
        
        .search-box i {
            position: absolute;
            left: 15px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(30deg);
        }
        
        .font-size-adjuster {
            display: flex;
            align-items: center;
            gap: 5px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            padding: 5px;
        }
        
        .font-size-btn {
            background: none;
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .font-size-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Live Visitor Counter */
        .live-counter {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }
        
        .live-counter .pulse {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #4CAF50;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
            }
            70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(76, 175, 80, 0);
            }
            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
            }
        }
        
        /* Reading Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: var(--accent-color);
            z-index: 1001;
            transition: width 0.2s ease;
            box-shadow: 0 0 10px rgba(229, 57, 53, 0.5);
        }
        
        /* Main Content */
        main {
            flex: 1;
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            width: 100%;
        }
        
        /* Breaking News Ticker */
        .breaking-news {
            background: var(--accent-color);
            color: white;
            padding: 12px 0;
            margin-bottom: 25px;
            overflow: hidden;
            border-radius: 6px;
            box-shadow: var(--shadow-md);
        }
        
        .breaking-news-container {
            display: flex;
            align-items: center;
            padding: 0 20px;
        }
        
        .breaking-news-label {
            background: rgba(0, 0, 0, 0.2);
            padding: 6px 15px;
            font-weight: 700;
            margin-right: 20px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: blink 1.5s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .breaking-news-ticker {
            flex: 1;
            overflow: hidden;
            position: relative;
        }
        
        .breaking-news-content {
            display: flex;
            animation: ticker 30s linear infinite;
        }
        
        .breaking-news-item {
            padding-right: 50px;
            white-space: nowrap;
        }
        
        @keyframes ticker {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        /* Featured News Section */
        .featured-news {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .main-featured {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            height: 420px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .main-featured:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.2);
        }
        
        .main-featured img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .main-featured:hover img {
            transform: scale(1.05);
        }
        
        .featured-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            color: white;
            padding: 30px;
            transition: var(--transition);
        }
        
        .featured-content h2 {
            font-size: 26px;
            margin-bottom: 10px;
            line-height: 1.3;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .featured-content p {
            font-size: 16px;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .featured-meta {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            opacity: 0.8;
        }
        
        .featured-category {
            background: var(--accent-color);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .side-featured {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .side-featured-item {
            position: relative;
            background: var(--secondary-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            cursor: pointer;
            transition: var(--transition);
            height: 130px;
        }
        
        .side-featured-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }
        
        .side-featured-item img {
            width: 130px;
            height: 130px;
            object-fit: cover;
        }
        
        .side-featured-content {
            position: absolute;
            top: 0;
            left: 130px;
            right: 0;
            bottom: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .side-featured-content h3 {
            font-size: 16px;
            margin-bottom: 8px;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .side-featured-meta {
            font-size: 12px;
            color: var(--light-text);
            margin-top: auto;
        }
        
        /* Ad Section */
        .ad-section {
            background: var(--secondary-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            margin: 25px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .ad-container {
            width: 100%;
            padding: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 90px;
        }
        
        .ad-large {
            min-height: 280px;
        }
        
        /* Category Tabs */
        .category-tabs {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 25px;
            overflow-x: auto;
            background: var(--secondary-bg);
            border-radius: 10px;
            padding: 5px;
            box-shadow: var(--shadow-sm);
        }
        
        .category-tab {
            padding: 12px 20px;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
            white-space: nowrap;
            border-radius: 6px;
            color: var(--light-text);
        }
        
        .category-tab:hover {
            color: var(--primary-color);
            background: rgba(21, 101, 192, 0.1);
        }
        
        .category-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: rgba(21, 101, 192, 0.1);
        }
        
        /* News Grid */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .news-card {
            background: var(--secondary-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .news-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }
        
        .news-card-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .news-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .news-card:hover img {
            transform: scale(1.1);
        }
        
        .news-category {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--primary-color);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            z-index: 1;
            box-shadow: var(--shadow-sm);
        }
        
        .news-content {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .news-content h3 {
            font-size: 18px;
            margin-bottom: 12px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            flex-grow: 1;
        }
        
        .news-excerpt {
            color: var(--light-text);
            margin-bottom: 15px;
            font-size: 14px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .news-meta {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            color: var(--light-text);
            margin-top: auto;
        }
        
        .news-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }
        
        .news-action-btn {
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        .news-action-btn:hover {
            color: var(--primary-color);
            background: rgba(21, 101, 192, 0.1);
        }
        
        .news-action-btn.saved {
            color: var(--accent-color);
        }
        
        /* Trending Topics Section */
        .trending-topics {
            background: var(--gradient-secondary);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-md);
        }
        
        .trending-topics h3 {
            font-size: 22px;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 700;
        }
        
        .topics-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        
        .topic-tag {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 600;
            transition: var(--transition);
            cursor: pointer;
            backdrop-filter: blur(10px);
        }
        
        .topic-tag:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: var(--shadow-sm);
        }
        
        /* Newsletter Section */
        .newsletter-section {
            background: var(--gradient-primary);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 40px;
            box-shadow: var(--shadow-md);
            text-align: center;
        }
        
        .newsletter-section h3 {
            font-size: 24px;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        .newsletter-section p {
            margin-bottom: 25px;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
            gap: 10px;
        }
        
        .newsletter-form input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 30px;
            font-size: 16px;
        }
        
        .newsletter-form button {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .newsletter-form button:hover {
            background: #c62828;
            transform: translateY(-2px);
        }
        
        /* Footer */
        footer {
            background: var(--dark-bg);
            color: white;
            padding: 50px 0 20px;
            margin-top: auto;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }
        
        .footer-column h4 {
            font-size: 20px;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 15px;
            font-weight: 700;
        }
        
        .footer-column h4::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background: var(--primary-color);
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 12px;
        }
        
        .footer-column ul li a {
            color: #b0bec5;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-column ul li a:hover {
            color: white;
            padding-left: 5px;
        }
        
        .footer-column ul li a i {
            font-size: 14px;
            width: 20px;
            text-align: center;
        }
        
        .contact-info p {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .contact-info i {
            width: 20px;
            text-align: center;
            color: var(--primary-color);
        }
        
        .social-links-footer {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        .social-links-footer a {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: var(--transition);
        }
        
        .social-links-footer a:hover {
            background: var(--primary-color);
            transform: translateY(-5px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: #90a4ae;
        }
        
        /* News Detail Modal */
        .news-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
            backdrop-filter: blur(5px);
        }
        
        .modal-container {
            background: var(--secondary-bg);
            max-width: 900px;
            margin: 50px auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalFadeIn 0.3s ease;
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            position: relative;
        }
        
        .modal-header img {
            width: 100%;
            max-height: 500px;
            object-fit: cover;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        .modal-close:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: rotate(90deg);
        }
        
        .modal-content {
            padding: 40px;
        }
        
        .modal-category {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .modal-title {
            font-size: 32px;
            margin-bottom: 20px;
            line-height: 1.3;
            font-weight: 700;
        }
        
        .modal-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            color: var(--light-text);
            font-size: 14px;
        }
        
        .modal-body {
            font-size: 17px;
            line-height: 1.8;
            margin-bottom: 40px;
        }
        
        .modal-body p {
            margin-bottom: 20px;
        }
        
        .modal-body img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 25px 0;
            box-shadow: var(--shadow-md);
        }
        
        .modal-body h3 {
            font-size: 22px;
            margin: 25px 0 15px;
            color: var(--primary-color);
        }
        
        .modal-body blockquote {
            border-left: 4px solid var(--primary-color);
            padding-left: 20px;
            margin: 25px 0;
            font-style: italic;
            color: var(--light-text);
        }
        
        .modal-ad {
            background: var(--background-color);
            border: 1px dashed var(--border-color);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin: 30px 0;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .modal-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .modal-action-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }
        
        .modal-action-btn:hover {
            background: #0d47a1;
            transform: translateY(-2px);
        }
        
        .modal-action-btn.saved {
            background: var(--accent-color);
        }
        
        .modal-action-btn.saved:hover {
            background: #c62828;
        }
        
        .modal-share {
            display: flex;
            gap: 10px;
        }
        
        /* Saved Articles Panel */
        .saved-articles {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100%;
            background: var(--secondary-bg);
            box-shadow: -5px 0 20px rgba(0,0,0,0.1);
            z-index: 1500;
            transition: right 0.3s ease;
            overflow-y: auto;
        }
        
        .saved-articles.show {
            right: 0;
        }
        
        .saved-articles-header {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-md);
        }
        
        .saved-articles-title {
            font-size: 20px;
            font-weight: 700;
        }
        
        .close-saved {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .close-saved:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .saved-articles-content {
            padding: 20px;
        }
        
        .saved-articles-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--light-text);
        }
        
        .saved-articles-empty i {
            font-size: 48px;
            margin-bottom: 15px;
            color: var(--border-color);
        }
        
        .saved-article-item {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
            border-radius: 8px;
            padding: 15px;
        }
        
        .saved-article-item:hover {
            background: var(--background-color);
        }
        
        .saved-article-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 6px;
        }
        
        .saved-article-content {
            flex: 1;
        }
        
        .saved-article-title {
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .saved-article-meta {
            font-size: 12px;
            color: var(--light-text);
        }
        
        .saved-article-category {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            margin-top: 5px;
        }
        
        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 1000;
        }
        
        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background: #0d47a1;
            transform: translateY(-5px);
        }
        
        /* Notification */
        .notification {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--secondary-color);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: var(--shadow-lg);
            font-weight: 500;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .notification i {
            font-size: 18px;
        }
        
        /* Loading Spinner */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Search Results */
        .search-results {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--secondary-bg);
            border-radius: 8px;
            box-shadow: var(--shadow-lg);
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            margin-top: 10px;
        }
        
        .search-results.show {
            display: block;
            animation: searchDropdown 0.3s ease;
        }
        
        @keyframes searchDropdown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .search-result-item {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .search-result-item:hover {
            background: var(--background-color);
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        .search-result-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-color);
        }
        
        .search-result-excerpt {
            font-size: 14px;
            color: var(--light-text);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .search-result-category {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            margin-top: 5px;
        }
        
        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }
            
            header, footer, .ad-section, .modal-actions, .news-actions, 
            .saved-articles, .back-to-top, .notification, .breaking-news, 
            .trending-topics, .newsletter-section, .search-box, 
            .theme-toggle, .font-size-adjuster, .live-counter {
                display: none !important;
            }
            
            .modal-container {
                box-shadow: none;
                margin: 0;
                max-width: 100%;
            }
            
            .modal-header img {
                max-height: 300px;
            }
            
            .modal-content {
                padding: 20px;
            }
            
            .modal-title {
                font-size: 24px;
            }
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .featured-news {
                grid-template-columns: 1fr;
            }
            
            .main-featured {
                height: 350px;
            }
            
            .side-featured {
                flex-direction: row;
                overflow-x: auto;
                gap: 15px;
                padding-bottom: 10px;
            }
            
            .side-featured-item {
                min-width: 300px;
                height: 180px;
            }
            
            .side-featured-item img {
                width: 100%;
                height: 100%;
            }
            
            .side-featured-content {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
                color: white;
                padding: 15px;
            }
        }
        
        @media (max-width: 768px) {
            .header-top {
                display: none;
            }
            
            .header-container {
                flex-direction: column;
                padding: 15px;
            }
            
            .logo {
                font-size: 24px;
                margin-bottom: 15px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
                margin-bottom: 15px;
            }
            
            .header-actions {
                width: 100%;
                justify-content: center;
            }
            
            .search-box input {
                width: 180px;
            }
            
            .search-box input:focus {
                width: 220px;
            }
            
            .live-counter {
                display: none;
            }
            
            .main-featured {
                height: 250px;
            }
            
            .featured-content {
                padding: 20px;
            }
            
            .featured-content h2 {
                font-size: 20px;
            }
            
            .newsletter-form {
                flex-direction: column;
            }
            
            .modal-container {
                margin: 20px;
            }
            
            .modal-content {
                padding: 25px;
            }
            
            .modal-title {
                font-size: 24px;
            }
            
            .back-to-top {
                bottom: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
            
            .saved-articles {
                width: 100%;
                right: -100%;
            }
            
            .news-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 20px;
            }
        }
        
        @media (max-width: 576px) {
            .news-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-title {
                font-size: 20px;
            }
            
            .modal-body {
                font-size: 16px;
            }
            
            .modal-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .modal-share {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- Header -->
    <header>
        <div class="header-top">
            <div class="header-container">
                <div class="header-top-left">
                    <div class="current-date">
                        <i class="far fa-calendar-alt"></i>
                        <span id="currentDate"></span>
                    </div>
                    <div class="current-time">
                        <i class="far fa-clock"></i>
                        <span id="currentTime"></span>
                    </div>
                </div>
                <div class="header-top-right">
                    <div class="social-links">
                        <a href="#" id="facebookLink" target="_blank"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" id="twitterLink" target="_blank"><i class="fab fa-twitter"></i></a>
                        <a href="#" id="instagramLink" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="#" id="youtubeLink" target="_blank"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-main">
            <div class="header-container">
                <a href="#" class="logo">
                    <i class="fas fa-newspaper"></i> The Real News
                </a>
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link active" data-category="all"><i class="fas fa-home"></i> সর্বশেষ</a></li>
                        <li><a href="#" class="nav-link" data-category="politics"><i class="fas fa-landmark"></i> রাজনীতি</a></li>
                        <li><a href="#" class="nav-link" data-category="sports"><i class="fas fa-football-ball"></i> খেলা</a></li>
                        <li><a href="#" class="nav-link" data-category="entertainment"><i class="fas fa-film"></i> বিনোদন</a></li>
                        <li><a href="#" class="nav-link" data-category="tech"><i class="fas fa-microchip"></i> প্রযুক্তি</a></li>
                        <li><a href="#" class="nav-link" data-category="international"><i class="fas fa-globe-asia"></i> আন্তর্জাতিক</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="খবর খুঁজুন..." id="searchInput">
                        <div class="search-results" id="searchResults"></div>
                    </div>
                    <div class="font-size-adjuster">
                        <button class="font-size-btn" id="fontDecrease" title="ফন্ট ছোট করুন">
                            <i class="fas fa-minus"></i>
                        </button>
                        <button class="font-size-btn" id="fontIncrease" title="ফন্ট বড় করুন">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="live-counter">
                        <span class="pulse"></span>
                        <span id="visitorCount">0</span> অনলাইন
                    </div>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Breaking News Ticker -->
    <div class="breaking-news">
        <div class="breaking-news-container">
            <div class="breaking-news-label">
                <i class="fas fa-bolt"></i> ব্রেকিং নিউজ
            </div>
            <div class="breaking-news-ticker">
                <div class="breaking-news-content" id="breakingNewsContent">
                    <div class="breaking-news-item">দেশের সর্ববৃহৎ প্রযুক্তি মেলা শুরু হতে যাচ্ছে</div>
                    <div class="breaking-news-item">বিশ্বকাপে আজ মুখোমুখি ব্রাজিল-আর্জেন্টিনা</div>
                    <div class="breaking-news-item">নতুন শিক্ষাক্রম নিয়ে আলোচনা চলছে</div>
                    <div class="breaking-news-item">ঢাকায় নতুন মেট্রোরেল রুট উদ্বোধন</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <main>
        <!-- Featured News Section -->
        <section class="featured-news">
            <div class="main-featured" id="mainFeatured">
                <img src="https://picsum.photos/seed/news1/1200/600.jpg" alt="Featured News">
                <div class="featured-content">
                    <div class="featured-category">প্রযুক্তি</div>
                    <h2>দেশের সর্ববৃহৎ প্রযুক্তি মেলা শুরু হতে যাচ্ছে</h2>
                    <p>রাজধানীর বঙ্গবন্ধু আন্তর্জাতিক সম্মেলন কেন্দ্রে আগামীকাল থেকে শুরু হচ্ছে তিন দিনব্যাপী ডিজিটাল বাংলাদেশ মেলা।</p>
                    <div class="featured-meta">
                        <span><i class="far fa-clock"></i> ২ ঘন্টা আগে</span>
                        <span><i class="far fa-user"></i> প্রযুক্তি ডেস্ক</span>
                    </div>
                </div>
            </div>
            <div class="side-featured" id="sideFeatured">
                <div class="side-featured-item">
                    <img src="https://picsum.photos/seed/news2/400/300.jpg" alt="News">
                    <div class="side-featured-content">
                        <h3>বিশ্বকাপে আজ মুখোমুখি ব্রাজিল-আর্জেন্টিনা</h3>
                        <div class="side-featured-meta">
                            <span><i class="far fa-clock"></i> ৫ ঘন্টা আগে</span>
                        </div>
                    </div>
                </div>
                <div class="side-featured-item">
                    <img src="https://picsum.photos/seed/news3/400/300.jpg" alt="News">
                    <div class="side-featured-content">
                        <h3>নতুন শিক্ষাক্রম নিয়ে আলোচনা চলছে</h3>
                        <div class="side-featured-meta">
                            <span><i class="far fa-clock"></i> ৮ ঘন্টা আগে</span>
                        </div>
                    </div>
                </div>
                <div class="side-featured-item">
                    <img src="https://picsum.photos/seed/news4/400/300.jpg" alt="News">
                    <div class="side-featured-content">
                        <h3>ঢাকায় নতুন মেট্রোরেল রুট উদ্বোধন</h3>
                        <div class="side-featured-meta">
                            <span><i class="far fa-clock"></i> ১০ ঘন্টা আগে</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Ad Section -->
        <div class="ad-section" id="homeAdTop">
            <div class="ad-container" id="adTopContainer"></div>
        </div>
        
        <!-- Category Tabs -->
        <div class="category-tabs">
            <div class="category-tab active" data-category="all">সব খবর</div>
            <div class="category-tab" data-category="politics">রাজনীতি</div>
            <div class="category-tab" data-category="sports">খেলা</div>
            <div class="category-tab" data-category="entertainment">বিনোদন</div>
            <div class="category-tab" data-category="tech">প্রযুক্তি</div>
            <div class="category-tab" data-category="international">আন্তর্জাতিক</div>
        </div>
        
        <!-- Loading Spinner -->
        <div class="loading" id="loadingSpinner">
            <div class="spinner"></div>
            <p>লোড হচ্ছে...</p>
        </div>
        
        <!-- News Grid -->
        <div class="news-grid" id="newsGrid">
            <!-- News items will be dynamically loaded here -->
        </div>
        
        <!-- Ad Section -->
        <div class="ad-section" id="homeAdBottom">
            <div class="ad-container" id="adBottomContainer"></div>
        </div>
        
        <!-- Trending Topics Section -->
        <section class="trending-topics">
            <h3>ট্রেন্ডিং টপিকস</h3>
            <div class="topics-container">
                <div class="topic-tag" data-topic="বাংলাদেশ">#বাংলাদেশ</div>
                <div class="topic-tag" data-topic="ক্রিকেট">#ক্রিকেট</div>
                <div class="topic-tag" data-topic="বিশ্বকাপ">#বিশ্বকাপ</div>
                <div class="topic-tag" data-topic="প্রযুক্তি">#প্রযুক্তি</div>
                <div class="topic-tag" data-topic="শিক্ষা">#শিক্ষা</div>
                <div class="topic-tag" data-topic="স্বাস্থ্য">#স্বাস্থ্য</div>
                <div class="topic-tag" data-topic="বিনোদন">#বিনোদন</div>
                <div class="topic-tag" data-topic="অর্থনীতি">#অর্থনীতি</div>
            </div>
        </section>
        
        <!-- Newsletter Section -->
        <section class="newsletter-section">
            <h3>নিউজলেটার সাবস্ক্রাইব করুন</h3>
            <p>সর্বশেষ খবর এবং আপডেট সরাসরি আপনার ইনবক্সে পেতে আমাদের নিউজলেটারে সাবস্ক্রাইব করুন</p>
            <form class="newsletter-form" id="newsletterForm">
                <input type="email" placeholder="আপনার ইমেল ঠিকানা" required>
                <button type="submit">সাবস্ক্রাইব করুন</button>
            </form>
        </section>
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-column">
                <h4>আমাদের সম্পর্কে</h4>
                <p>The Real News বাংলাদেশের অন্যতম জনপ্রিয় অনলাইন নিউজ পোর্টাল। আমরা সর্বদা সঠিক এবং নিরপেক্ষ সংবাদ পরিবেশনে প্রতিশ্রুতিবদ্ধ।</p>
                <div class="social-links-footer" id="socialLinksFooter">
                    <a href="#" id="facebookLinkFooter" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" id="twitterLinkFooter" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="#" id="instagramLinkFooter" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="#" id="youtubeLinkFooter" target="_blank"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h4>দ্রুত লিংক</h4>
                <ul>
                    <li><a href="#"><i class="fas fa-angle-right"></i> প্রচ্ছদ</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> বাংলাদেশ</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> আন্তর্জাতিক</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> খেলা</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> বিনোদন</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>বিভাগ সমূহ</h4>
                <ul>
                    <li><a href="#"><i class="fas fa-angle-right"></i> রাজনীতি</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> অর্থনীতি</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> শিক্ষা</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> স্বাস্থ্য</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i> প্রযুক্তি</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>যোগাযোগ</h4>
                <div class="contact-info" id="contactInfo">
                    <p><i class="fas fa-map-marker-alt"></i> <span id="contactLocation">ঢাকা, বাংলাদেশ</span></p>
                    <p><i class="fas fa-phone"></i> <span id="contactPhone">+৮৮০১৭১২৩৪৫৬৭৮</span></p>
                    <p><i class="fas fa-envelope"></i> <span id="contactEmail">info@therealnews.com</span></p>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="header-container">
                <p>&copy; ২০২৫ The Real News। সর্বস্বত্ব সংরক্ষিত। | ডেভেলপড বাই <a href="#" style="color: var(--primary-color);">Your Team</a></p>
            </div>
        </div>
    </footer>
    
    <!-- News Detail Modal -->
    <div class="news-modal" id="newsModal">
        <div class="modal-container">
            <div class="modal-header">
                <img id="modalImage" src="" alt="News Image">
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-content">
                <span class="modal-category" id="modalCategory"></span>
                <h2 class="modal-title" id="modalTitle"></h2>
                <div class="modal-meta">
                    <span id="modalAuthor"></span>
                    <span id="modalDate"></span>
                </div>
                <div class="modal-body" id="modalBody"></div>
                
                <!-- Ad Section in News Content -->
                <div class="modal-ad ad-large" id="newsContentAd">
                    <div class="ad-container" id="adContentContainer"></div>
                </div>
                
                <div class="modal-actions">
                    <button class="modal-action-btn" id="saveArticleBtn">
                        <i class="far fa-bookmark"></i> সংরক্ষণ করুন
                    </button>
                    <div class="modal-share">
                        <button class="modal-action-btn" id="printArticleBtn">
                            <i class="fas fa-print"></i> প্রিন্ট করুন
                        </button>
                        <button class="modal-action-btn" id="shareArticleBtn">
                            <i class="fas fa-share-alt"></i> শেয়ার করুন
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Saved Articles Panel -->
    <div class="saved-articles" id="savedArticlesPanel">
        <div class="saved-articles-header">
            <h3 class="saved-articles-title">সংরক্ষিত প্রবন্ধ</h3>
            <button class="close-saved" id="closeSavedPanel">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="saved-articles-content" id="savedArticlesList">
            <div class="saved-articles-empty">
                <i class="far fa-bookmark"></i>
                <p>কোনো প্রবন্ধ সংরক্ষণ করা হয়নি</p>
            </div>
        </div>
    </div>
    
    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText"></span>
    </div>
    
    <script>
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAOEjdNr9zSbkTcyqNZarOKhgvKr1BgMVM",
            authDomain: "wordpro-ed228.firebaseapp.com",
            databaseURL: "https://wordpro-ed228-default-rtdb.firebaseio.com",
            projectId: "wordpro-ed228",
            storageBucket: "wordpro-ed228.firebasestorage.app",
            messagingSenderId: "649818057079",
            appId: "1:649818057079:web:74b8bdc51ad8e9dca9d972",
            measurementId: "G-YTEMQ0NYXC"
        };
        
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        
        // DOM Elements
        const categoryTabs = document.querySelectorAll('.category-tab');
        const navLinks = document.querySelectorAll('.nav-link');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const newsGrid = document.getElementById('newsGrid');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        const newsModal = document.getElementById('newsModal');
        const modalClose = document.getElementById('modalClose');
        const modalImage = document.getElementById('modalImage');
        const modalCategory = document.getElementById('modalCategory');
        const modalTitle = document.getElementById('modalTitle');
        const modalAuthor = document.getElementById('modalAuthor');
        const modalDate = document.getElementById('modalDate');
        const modalBody = document.getElementById('modalBody');
        const contactLocation = document.getElementById('contactLocation');
        const contactPhone = document.getElementById('contactPhone');
        const contactEmail = document.getElementById('contactEmail');
        const themeToggle = document.getElementById('themeToggle');
        const backToTop = document.getElementById('backToTop');
        const progressBar = document.getElementById('progressBar');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const facebookLink = document.getElementById('facebookLink');
        const twitterLink = document.getElementById('twitterLink');
        const instagramLink = document.getElementById('instagramLink');
        const youtubeLink = document.getElementById('youtubeLink');
        const facebookLinkFooter = document.getElementById('facebookLinkFooter');
        const twitterLinkFooter = document.getElementById('twitterLinkFooter');
        const instagramLinkFooter = document.getElementById('instagramLinkFooter');
        const youtubeLinkFooter = document.getElementById('youtubeLinkFooter');
        const visitorCount = document.getElementById('visitorCount');
        const fontDecrease = document.getElementById('fontDecrease');
        const fontIncrease = document.getElementById('fontIncrease');
        const saveArticleBtn = document.getElementById('saveArticleBtn');
        const printArticleBtn = document.getElementById('printArticleBtn');
        const shareArticleBtn = document.getElementById('shareArticleBtn');
        const savedArticlesPanel = document.getElementById('savedArticlesPanel');
        const closeSavedPanel = document.getElementById('closeSavedPanel');
        const savedArticlesList = document.getElementById('savedArticlesList');
        const currentDate = document.getElementById('currentDate');
        const currentTime = document.getElementById('currentTime');
        const newsletterForm = document.getElementById('newsletterForm');
        const mainFeatured = document.getElementById('mainFeatured');
        const sideFeatured = document.getElementById('sideFeatured');
        const breakingNewsContent = document.getElementById('breakingNewsContent');
        
        // Current category filter
        let currentCategory = 'all';
        let currentNewsItem = null;
        let savedArticles = JSON.parse(localStorage.getItem('savedArticles')) || [];
        let fontSize = parseInt(localStorage.getItem('fontSize')) || 16;
        
        // Apply saved font size
        document.documentElement.style.fontSize = fontSize + 'px';
        
        // Update date and time
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            currentDate.textContent = now.toLocaleDateString('bn-BD', options);
            
            const timeOptions = { hour: '2-digit', minute: '2-digit' };
            currentTime.textContent = now.toLocaleTimeString('bn-BD', timeOptions);
        }
        
        updateDateTime();
        setInterval(updateDateTime, 60000);
        
        // Show notification
        function showNotification(message, duration = 3000) {
            notificationText.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }
        
        // Category tabs functionality
        categoryTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                categoryTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                currentCategory = tab.getAttribute('data-category');
                loadNews();
                
                // Scroll to top
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
        
        // Navigation links functionality
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                
                navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                
                currentCategory = link.getAttribute('data-category');
                loadNews();
                
                // Scroll to top
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
        
        // Theme toggle functionality
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('darkMode', 'enabled');
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('darkMode', 'disabled');
            }
        });
        
        // Check for saved theme preference
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.body.classList.add('dark-mode');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }
        
        // Font size adjuster
        fontDecrease.addEventListener('click', () => {
            if (fontSize > 14) {
                fontSize -= 1;
                document.documentElement.style.fontSize = fontSize + 'px';
                localStorage.setItem('fontSize', fontSize);
            }
        });
        
        fontIncrease.addEventListener('click', () => {
            if (fontSize < 20) {
                fontSize += 1;
                document.documentElement.style.fontSize = fontSize + 'px';
                localStorage.setItem('fontSize', fontSize);
            }
        });
        
        // Back to top functionality
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTop.classList.add('show');
            } else {
                backToTop.classList.remove('show');
            }
            
            // Update reading progress bar
            const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollTop = window.pageYOffset;
            const scrollPercent = (scrollTop / scrollHeight) * 100;
            progressBar.style.width = scrollPercent + '%';
        });
        
        backToTop.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // Search functionality
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.trim().toLowerCase();
            
            if (searchTerm.length > 0) {
                searchNews(searchTerm);
                searchResults.classList.add('show');
            } else {
                searchResults.classList.remove('show');
            }
        });
        
        // Close search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-box')) {
                searchResults.classList.remove('show');
            }
        });
        
        // Newsletter form submission
        newsletterForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = e.target.querySelector('input[type="email"]').value;
            
            // Save to Firebase
            database.ref('newsletter').push({
                email: email,
                timestamp: new Date().toISOString()
            })
            .then(() => {
                showNotification('নিউজলেটারে সাবস্ক্রাইব সফল হয়েছে!');
                newsletterForm.reset();
            })
            .catch(error => {
                showNotification('সাবস্ক্রাইব করতে ত্রুটি হয়েছে: ' + error.message);
            });
        });
        
        // Trending topics functionality
        document.querySelectorAll('.topic-tag').forEach(tag => {
            tag.addEventListener('click', () => {
                const topic = tag.getAttribute('data-topic');
                showNotification(`'${topic}' সম্পর্কিত খবর লোড হচ্ছে...`);
                
                // Filter news by topic (this is a placeholder, actual implementation would require topic tags in news)
                setTimeout(() => {
                    // Scroll to news section
                    document.querySelector('.news-grid').scrollIntoView({ behavior: 'smooth' });
                }, 1000);
            });
        });
        
        // Function to execute ad scripts
        function executeAdScripts(containerId, adCode) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // Clear previous content
            container.innerHTML = '';
            
            // Create a temporary div to parse the ad code
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = adCode;
            
            // Extract and execute scripts
            const scripts = tempDiv.querySelectorAll('script');
            
            // Move all non-script elements to the container
            while (tempDiv.firstChild) {
                if (tempDiv.firstChild.nodeName !== 'SCRIPT') {
                    container.appendChild(tempDiv.firstChild);
                } else {
                    tempDiv.removeChild(tempDiv.firstChild);
                }
            }
            
            // Execute each script
            scripts.forEach(script => {
                const newScript = document.createElement('script');
                
                // Copy all attributes from the original script
                for (let i = 0; i < script.attributes.length; i++) {
                    const attr = script.attributes[i];
                    newScript.setAttribute(attr.name, attr.value);
                }
                
                // Copy the script content
                newScript.textContent = script.textContent;
                
                // Add to container and execute
                container.appendChild(newScript);
            });
        }
        
        // Load news from Firebase
        function loadNews() {
            loadingSpinner.style.display = 'block';
            newsGrid.innerHTML = '';
            
            let newsRef;
            if (currentCategory === 'all') {
                newsRef = database.ref('news').orderByChild('timestamp');
            } else {
                newsRef = database.ref('news').orderByChild('category').equalTo(currentCategory);
            }
            
            newsRef.once('value')
                .then(snapshot => {
                    const newsItems = [];
                    
                    snapshot.forEach(childSnapshot => {
                        const newsItem = childSnapshot.val();
                        newsItem.id = childSnapshot.key;
                        newsItems.push(newsItem);
                    });
                    
                    // Sort by timestamp (newest first)
                    newsItems.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                    
                    // Display news items
                    if (newsItems.length === 0) {
                        newsGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: var(--light-text);">এই বিভাগে কোন খবর পাওয়া যায়নি।</div>';
                    } else {
                        newsItems.forEach(newsItem => {
                            const newsCard = createNewsCard(newsItem);
                            newsGrid.appendChild(newsCard);
                        });
                    }
                    
                    loadingSpinner.style.display = 'none';
                })
                .catch(error => {
                    showNotification('খবর লোড করতে ত্রুটি: ' + error.message);
                    loadingSpinner.style.display = 'none';
                });
        }
        
        // Search news
        function searchNews(searchTerm) {
            searchResults.innerHTML = '';
            
            database.ref('news').once('value')
                .then(snapshot => {
                    const newsItems = [];
                    
                    snapshot.forEach(childSnapshot => {
                        const newsItem = childSnapshot.val();
                        newsItem.id = childSnapshot.key;
                        newsItems.push(newsItem);
                    });
                    
                    // Filter news by search term
                    const filteredNews = newsItems.filter(newsItem => {
                        const title = newsItem.title.toLowerCase();
                        const excerpt = newsItem.excerpt.toLowerCase();
                        const content = newsItem.content.toLowerCase();
                        
                        return title.includes(searchTerm) || excerpt.includes(searchTerm) || content.includes(searchTerm);
                    });
                    
                    // Display search results
                    if (filteredNews.length === 0) {
                        searchResults.innerHTML = '<div class="search-result-item">কোন খবর পাওয়া যায়নি</div>';
                    } else {
                        filteredNews.slice(0, 5).forEach(newsItem => {
                            const resultItem = document.createElement('div');
                            resultItem.className = 'search-result-item';
                            
                            resultItem.innerHTML = `
                                <div class="search-result-title">${newsItem.title}</div>
                                <div class="search-result-excerpt">${newsItem.excerpt}</div>
                                <div class="search-result-category">${getCategoryName(newsItem.category)}</div>
                            `;
                            
                            resultItem.addEventListener('click', () => {
                                showNewsDetail(newsItem);
                                searchResults.classList.remove('show');
                                searchInput.value = '';
                            });
                            
                            searchResults.appendChild(resultItem);
                        });
                    }
                })
                .catch(error => {
                    console.error('Error searching news:', error);
                });
        }
        
        // Create news card element
        function createNewsCard(newsItem) {
            const card = document.createElement('div');
            card.className = 'news-card';
            card.setAttribute('data-id', newsItem.id);
            
            const timeAgo = getTimeAgo(new Date(newsItem.timestamp));
            const isSaved = savedArticles.some(article => article.id === newsItem.id);
            
            card.innerHTML = `
                <div class="news-card-image">
                    <img src="${newsItem.image}" alt="${newsItem.title}">
                    <div class="news-category">${getCategoryName(newsItem.category)}</div>
                </div>
                <div class="news-content">
                    <h3>${newsItem.title}</h3>
                    <p class="news-excerpt">${newsItem.excerpt}</p>
                    <div class="news-meta">
                        <span><i class="far fa-clock"></i> ${timeAgo}</span>
                        <span><i class="far fa-user"></i> ${newsItem.author}</span>
                    </div>
                    <div class="news-actions">
                        <button class="news-action-btn save-btn ${isSaved ? 'saved' : ''}" data-id="${newsItem.id}">
                            <i class="${isSaved ? 'fas' : 'far'} fa-bookmark"></i> ${isSaved ? 'সংরক্ষিত' : 'সংরক্ষণ করুন'}
                        </button>
                        <button class="news-action-btn share-btn" data-id="${newsItem.id}">
                            <i class="fas fa-share-alt"></i> শেয়ার
                        </button>
                    </div>
                </div>
            `;
            
            // Add click event to show news detail
            card.addEventListener('click', (e) => {
                if (!e.target.closest('.news-actions')) {
                    showNewsDetail(newsItem);
                }
            });
            
            // Add save button event
            const saveBtn = card.querySelector('.save-btn');
            saveBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleSaveArticle(newsItem);
            });
            
            // Add share button event
            const shareBtn = card.querySelector('.share-btn');
            shareBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                shareArticle(newsItem);
            });
            
            return card;
        }
        
        // Show news detail in modal
        function showNewsDetail(newsItem) {
            currentNewsItem = newsItem;
            modalImage.src = newsItem.image;
            modalCategory.textContent = getCategoryName(newsItem.category);
            modalTitle.textContent = newsItem.title;
            modalAuthor.innerHTML = `<i class="far fa-user"></i> ${newsItem.author}`;
            modalDate.innerHTML = `<i class="far fa-clock"></i> ${formatDate(new Date(newsItem.timestamp))}`;
            modalBody.innerHTML = newsItem.content;
            
            // Update save button state
            const isSaved = savedArticles.some(article => article.id === newsItem.id);
            saveArticleBtn.innerHTML = `<i class="${isSaved ? 'fas' : 'far'} fa-bookmark"></i> ${isSaved ? 'সংরক্ষিত' : 'সংরক্ষণ করুন'}`;
            saveArticleBtn.classList.toggle('saved', isSaved);
            
            newsModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Load ad for news content
            loadAd('newsContentAd');
        }
        
        // Close modal
        modalClose.addEventListener('click', () => {
            newsModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === newsModal) {
                newsModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
        
        // Save article functionality
        saveArticleBtn.addEventListener('click', () => {
            if (currentNewsItem) {
                toggleSaveArticle(currentNewsItem);
                
                // Update button state
                const isSaved = savedArticles.some(article => article.id === currentNewsItem.id);
                saveArticleBtn.innerHTML = `<i class="${isSaved ? 'fas' : 'far'} fa-bookmark"></i> ${isSaved ? 'সংরক্ষিত' : 'সংরক্ষণ করুন'}`;
                saveArticleBtn.classList.toggle('saved', isSaved);
            }
        });
        
        // Toggle save article
        function toggleSaveArticle(newsItem) {
            const existingIndex = savedArticles.findIndex(article => article.id === newsItem.id);
            
            if (existingIndex !== -1) {
                // Remove from saved articles
                savedArticles.splice(existingIndex, 1);
                showNotification('প্রবন্ধটি সংরক্ষণ তালিকা থেকে সরানো হয়েছে');
            } else {
                // Add to saved articles
                savedArticles.push({
                    id: newsItem.id,
                    title: newsItem.title,
                    excerpt: newsItem.excerpt,
                    image: newsItem.image,
                    category: newsItem.category,
                    author: newsItem.author,
                    timestamp: newsItem.timestamp
                });
                showNotification('প্রবন্ধটি সংরক্ষণ করা হয়েছে');
            }
            
            // Update localStorage
            localStorage.setItem('savedArticles', JSON.stringify(savedArticles));
            
            // Update saved articles panel if open
            if (savedArticlesPanel.classList.contains('show')) {
                renderSavedArticles();
            }
            
            // Update save button in news grid
            const saveBtn = document.querySelector(`.save-btn[data-id="${newsItem.id}"]`);
            if (saveBtn) {
                saveBtn.classList.toggle('saved', existingIndex === -1);
                saveBtn.innerHTML = `<i class="${existingIndex === -1 ? 'fas' : 'far'} fa-bookmark"></i> ${existingIndex === -1 ? 'সংরক্ষিত' : 'সংরক্ষণ করুন'}`;
            }
        }
        
        // Share article functionality
        function shareArticle(newsItem) {
            if (navigator.share) {
                navigator.share({
                    title: newsItem.title,
                    text: newsItem.excerpt,
                    url: window.location.href
                })
                .then(() => showNotification('সফলভাবে শেয়ার করা হয়েছে'))
                .catch(error => console.log('Sharing failed:', error));
            } else {
                // Fallback for browsers that don't support Web Share API
                const dummy = document.createElement('input');
                document.body.appendChild(dummy);
                dummy.value = window.location.href;
                dummy.select();
                document.execCommand('copy');
                document.body.removeChild(dummy);
                showNotification('লিংক ক্লিপবোর্ডে কপি করা হয়েছে');
            }
        }
        
        shareArticleBtn.addEventListener('click', () => {
            if (currentNewsItem) {
                shareArticle(currentNewsItem);
            }
        });
        
        // Print article functionality
        printArticleBtn.addEventListener('click', () => {
            window.print();
        });
        
        // Saved articles panel
        function renderSavedArticles() {
            if (savedArticles.length === 0) {
                savedArticlesList.innerHTML = `
                    <div class="saved-articles-empty">
                        <i class="far fa-bookmark"></i>
                        <p>কোনো প্রবন্ধ সংরক্ষণ করা হয়নি</p>
                    </div>
                `;
            } else {
                savedArticlesList.innerHTML = '';
                
                savedArticles.forEach(article => {
                    const articleItem = document.createElement('div');
                    articleItem.className = 'saved-article-item';
                    
                    articleItem.innerHTML = `
                        <img src="${article.image}" alt="${article.title}">
                        <div class="saved-article-content">
                            <div class="saved-article-title">${article.title}</div>
                            <div class="saved-article-meta">
                                <span><i class="far fa-clock"></i> ${getTimeAgo(new Date(article.timestamp))}</span>
                                <span><i class="far fa-user"></i> ${article.author}</span>
                            </div>
                            <div class="saved-article-category">${getCategoryName(article.category)}</div>
                        </div>
                    `;
                    
                    articleItem.addEventListener('click', () => {
                        // Fetch full article data from Firebase
                        database.ref(`news/${article.id}`).once('value')
                            .then(snapshot => {
                                if (snapshot.exists()) {
                                    const fullArticle = snapshot.val();
                                    fullArticle.id = article.id;
                                    showNewsDetail(fullArticle);
                                    savedArticlesPanel.classList.remove('show');
                                }
                            })
                            .catch(error => {
                                showNotification('প্রবন্ধ লোড করতে ত্রুটি: ' + error.message);
                            });
                    });
                    
                    savedArticlesList.appendChild(articleItem);
                });
            }
        }
        
        // Open saved articles panel
        function openSavedArticles() {
            renderSavedArticles();
            savedArticlesPanel.classList.add('show');
        }
        
        // Add saved articles button to header
        function addSavedArticlesButton() {
            const savedBtn = document.createElement('button');
            savedBtn.className = 'theme-toggle';
            savedBtn.innerHTML = '<i class="far fa-bookmark"></i>';
            savedBtn.title = 'সংরক্ষিত প্রবন্ধ';
            savedBtn.addEventListener('click', openSavedArticles);
            
            document.querySelector('.header-actions').insertBefore(savedBtn, document.querySelector('.theme-toggle'));
        }
        
        // Close saved articles panel
        closeSavedPanel.addEventListener('click', () => {
            savedArticlesPanel.classList.remove('show');
        });
        
        // Load featured news
        function loadFeaturedNews() {
            // Main featured news
            database.ref('news').orderByChild('featured').equalTo(true).limitToFirst(1).once('value')
                .then(snapshot => {
                    if (snapshot.exists()) {
                        snapshot.forEach(childSnapshot => {
                            const newsItem = childSnapshot.val();
                            
                            mainFeatured.innerHTML = `
                                <img src="${newsItem.image}" alt="Featured News">
                                <div class="featured-content">
                                    <div class="featured-category">${getCategoryName(newsItem.category)}</div>
                                    <h2>${newsItem.title}</h2>
                                    <p>${newsItem.excerpt}</p>
                                    <div class="featured-meta">
                                        <span><i class="far fa-clock"></i> ${getTimeAgo(new Date(newsItem.timestamp))}</span>
                                        <span><i class="far fa-user"></i> ${newsItem.author}</span>
                                    </div>
                                </div>
                            `;
                            
                            // Add click event to show news detail
                            mainFeatured.addEventListener('click', () => {
                                showNewsDetail(newsItem);
                            });
                        });
                    }
                })
                .catch(error => {
                    console.error('Error loading main featured news:', error);
                });
            
            // Side featured news
            database.ref('news').orderByChild('featured').equalTo(true).limitToFirst(4).once('value')
                .then(snapshot => {
                    sideFeatured.innerHTML = '';
                    
                    if (snapshot.exists()) {
                        let count = 0;
                        
                        snapshot.forEach(childSnapshot => {
                            if (count === 0) {
                                count++;
                                return; // Skip the first one as it's used for main featured
                            }
                            
                            const newsItem = childSnapshot.val();
                            
                            const sideItem = document.createElement('div');
                            sideItem.className = 'side-featured-item';
                            
                            sideItem.innerHTML = `
                                <img src="${newsItem.image}" alt="News">
                                <div class="side-featured-content">
                                    <h3>${newsItem.title}</h3>
                                    <div class="side-featured-meta">
                                        <span><i class="far fa-clock"></i> ${getTimeAgo(new Date(newsItem.timestamp))}</span>
                                    </div>
                                </div>
                            `;
                            
                            // Add click event to show news detail
                            sideItem.addEventListener('click', () => {
                                showNewsDetail(newsItem);
                            });
                            
                            sideFeatured.appendChild(sideItem);
                            count++;
                        });
                    }
                })
                .catch(error => {
                    console.error('Error loading side featured news:', error);
                });
        }
        
        // Load ads from Firebase
        function loadAds() {
            // Load home top ad
            loadAd('homeAdTop');
            
            // Load home bottom ad
            loadAd('homeAdBottom');
        }
        
        // Load specific ad
        function loadAd(adId) {
            const adElement = document.getElementById(adId);
            const containerId = adId.replace('homeAd', 'ad').replace('newsContentAd', 'adContent') + 'Container';
            const container = document.getElementById(containerId);
            
            database.ref(`ads/${adId}`).once('value')
                .then(snapshot => {
                    if (snapshot.exists()) {
                        const adData = snapshot.val();
                        
                        if (adData.active && adData.code) {
                            // Execute ad scripts
                            executeAdScripts(containerId, adData.code);
                            adElement.style.display = 'flex';
                        } else {
                            // Hide the ad section if no active ad
                            adElement.style.display = 'none';
                        }
                    } else {
                        // Hide the ad section if no ad data
                        adElement.style.display = 'none';
                    }
                })
                .catch(error => {
                    console.error(`Error loading ad ${adId}:`, error);
                    adElement.style.display = 'none';
                });
        }
        
        // Load social media links
        function loadSocialLinks() {
            database.ref('social').once('value')
                .then(snapshot => {
                    if (snapshot.exists()) {
                        const socialData = snapshot.val();
                        
                        if (socialData.facebook) {
                            facebookLink.href = socialData.facebook;
                            facebookLinkFooter.href = socialData.facebook;
                        }
                        if (socialData.twitter) {
                            twitterLink.href = socialData.twitter;
                            twitterLinkFooter.href = socialData.twitter;
                        }
                        if (socialData.instagram) {
                            instagramLink.href = socialData.instagram;
                            instagramLinkFooter.href = socialData.instagram;
                        }
                        if (socialData.youtube) {
                            youtubeLink.href = socialData.youtube;
                            youtubeLinkFooter.href = socialData.youtube;
                        }
                    }
                })
                .catch(error => {
                    console.error('Error loading social links:', error);
                });
        }
        
        // Load contact information
        function loadContactInfo() {
            database.ref('contact').once('value')
                .then(snapshot => {
                    if (snapshot.exists()) {
                        const contactData = snapshot.val();
                        
                        if (contactData.location) {
                            contactLocation.textContent = contactData.location;
                        }
                        if (contactData.phone) {
                            contactPhone.textContent = contactData.phone;
                        }
                        if (contactData.email) {
                            contactEmail.textContent = contactData.email;
                        }
                    }
                })
                .catch(error => {
                    console.error('Error loading contact info:', error);
                });
        }
        
        // Load breaking news
        function loadBreakingNews() {
            database.ref('breakingNews').once('value')
                .then(snapshot => {
                    breakingNewsContent.innerHTML = '';
                    
                    if (snapshot.exists()) {
                        const breakingNewsItems = [];
                        
                        snapshot.forEach(childSnapshot => {
                            breakingNewsItems.push(childSnapshot.val());
                        });
                        
                        // Display breaking news items
                        breakingNewsItems.forEach(item => {
                            const newsItem = document.createElement('div');
                            newsItem.className = 'breaking-news-item';
                            newsItem.textContent = item;
                            breakingNewsContent.appendChild(newsItem);
                        });
                        
                        // Duplicate items for continuous scrolling
                        breakingNewsItems.forEach(item => {
                            const newsItem = document.createElement('div');
                            newsItem.className = 'breaking-news-item';
                            newsItem.textContent = item;
                            breakingNewsContent.appendChild(newsItem);
                        });
                    }
                })
                .catch(error => {
                    console.error('Error loading breaking news:', error);
                });
        }
        
        // Load customization settings
        function loadCustomizationSettings() {
            database.ref('customization').once('value')
                .then(snapshot => {
                    if (snapshot.exists()) {
                        const settings = snapshot.val();
                        applyCustomization(settings);
                    }
                })
                .catch(error => {
                    console.error('Error loading customization settings:', error);
                });
        }
        
        // Apply customization settings
        function applyCustomization(settings) {
            if (settings.primaryColor) {
                document.documentElement.style.setProperty('--primary-color', settings.primaryColor);
            }
            if (settings.secondaryColor) {
                document.documentElement.style.setProperty('--secondary-color', settings.secondaryColor);
            }
            if (settings.accentColor) {
                document.documentElement.style.setProperty('--accent-color', settings.accentColor);
            }
            if (settings.textColor) {
                document.documentElement.style.setProperty('--text-color', settings.textColor);
            }
            if (settings.backgroundColor) {
                document.documentElement.style.setProperty('--background-color', settings.backgroundColor);
            }
            if (settings.secondaryBg) {
                document.documentElement.style.setProperty('--secondary-bg', settings.secondaryBg);
            }
            if (settings.siteTitle) {
                document.querySelector('.logo').innerHTML = `<i class="fas fa-newspaper"></i> ${settings.siteTitle}`;
                document.title = `${settings.siteTitle} - বাংলার সব খবর`;
            }
        }
        
        // Update visitor counter
        function updateVisitorCounter() {
            // Simulate visitor count
            const count = Math.floor(Math.random() * 100) + 50;
            visitorCount.textContent = count;
            
            // Update every 30 seconds
            setInterval(() => {
                const change = Math.floor(Math.random() * 10) - 5; // Random change between -5 and +5
                const newCount = Math.max(10, parseInt(visitorCount.textContent) + change);
                visitorCount.textContent = newCount;
            }, 30000);
        }
        
        // Get category name in Bengali
        function getCategoryName(category) {
            const categories = {
                'politics': 'রাজনীতি',
                'sports': 'খেলা',
                'entertainment': 'বিনোদন',
                'tech': 'প্রযুক্তি',
                'international': 'আন্তর্জাতিক'
            };
            
            return categories[category] || category;
        }
        
        // Get time ago in Bengali
        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            let interval = Math.floor(seconds / 31536000);
            if (interval >= 1) return interval + " বছর আগে";
            
            interval = Math.floor(seconds / 2592000);
            if (interval >= 1) return interval + " মাস আগে";
            
            interval = Math.floor(seconds / 86400);
            if (interval >= 1) return interval + " দিন আগে";
            
            interval = Math.floor(seconds / 3600);
            if (interval >= 1) return interval + " ঘন্টা আগে";
            
            interval = Math.floor(seconds / 60);
            if (interval >= 1) return interval + " মিনিট আগে";
            
            return "কিছুক্ষণ আগে";
        }
        
        // Format date in Bengali
        function formatDate(date) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('bn-BD', options);
        }
        
        // Add saved articles button to header
        addSavedArticlesButton();
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            loadNews();
            loadFeaturedNews();
            loadAds();
            loadContactInfo();
            loadSocialLinks();
            loadBreakingNews();
            loadCustomizationSettings();
            updateVisitorCounter();
        });
    </script>
</body>
</html>
